<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orbital Rocket Simulation</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <canvas id="canvas"></canvas>
    
    <div id="tminus-display">
        <div class="tminus-time" id="tminus-time">T- 00:00</div>
        <div class="tminus-event" id="tminus-event-name">Next Event</div>
    </div>
    
    <div id="telemetry">
        <h3>TELEMETRY</h3>
        <div class="section">
            <div><span class="label">T+</span><span class="value" id="time">00:00:00</span></div>
            <div><span class="label">Stage</span><span class="value" id="stage">1</span></div>
        </div>
        <div class="section">
            <div><span class="label">Altitude</span><span class="value" id="altitude">0 km</span></div>
            <div><span class="label">Downrange</span><span class="value" id="downrange">0 km</span></div>
            <div><span class="label">Velocity</span><span class="value" id="velocity">0 m/s</span></div>
            <div><span class="label">Vertical V</span><span class="value" id="vvel">0 m/s</span></div>
            <div><span class="label">Horizontal V</span><span class="value" id="hvel">0 m/s</span></div>
        </div>
        <div class="section">
            <div><span class="label">Acceleration</span><span class="value" id="accel">0 G</span></div>
            <div><span class="label">Max Q</span><span class="value" id="maxq">0 kPa</span></div>
            <div><span class="label">Dynamic Press</span><span class="value" id="dynpress">0 kPa</span></div>
        </div>
        <div class="section">
            <div><span class="label">Mass</span><span class="value" id="mass">0 kg</span></div>
            <div><span class="label">Propellant</span><span class="value" id="propellant">0%</span></div>
            <div><span class="label">Thrust</span><span class="value" id="thrust">0 kN</span></div>
        </div>
        <div class="section">
            <div><span class="label">Pitch</span><span class="value" id="pitch">90°</span></div>
            <div><span class="label">Apoapsis</span><span class="value" id="apoapsis">0 km</span></div>
            <div><span class="label">Periapsis</span><span class="value" id="periapsis">0 km</span></div>
        </div>
    </div>
    
    <div id="events">
        <h3>MISSION EVENTS</h3>
        <div id="event-list"></div>
    </div>
    
    <div id="pitch-program">
        <h3>PITCH PROGRAM</h3>
        <div><span class="label">Target:</span> <span id="target-pitch">90°</span></div>
        <div><span class="label">Current:</span> <span id="current-pitch">90°</span></div>
        <div class="pitch-bar">
            <div class="pitch-indicator" id="pitch-bar"></div>
        </div>
    </div>
    
    <div id="guidance-info" style="display: none; color: #0ff; font-size: 11px; margin: 10px; padding: 8px; background: rgba(0, 255, 255, 0.1); border: 1px solid #0ff; border-radius: 4px; text-align: center;">
    </div>
    
    <div id="controls">
        <button id="menu-btn">MENU</button>
        <button id="launch-btn">LAUNCH</button>
        <button id="pause-btn" style="display: none;">PAUSE</button>
        <button id="reset-btn">RESET</button>
        <button id="speed-btn">1x</button>
        <button id="zoom-out-btn">ZOOM OUT</button>
        <button id="zoom-in-btn">ZOOM IN</button>
        <button id="zoom-auto-btn">AUTO ZOOM</button>
        <button id="camera-btn">FOLLOW ROCKET</button>
    </div>
    
    <div id="menu-panel" style="display: none;">
        <div class="menu-header">
            <h2>Mission Selector</h2>
            <button id="menu-close-btn" class="menu-close">×</button>
        </div>
        <div id="current-mode-display" class="current-mode">No mission selected</div>
        
        <div class="menu-section">
            <h3>Manual Control</h3>
            <p class="menu-description">Control pitch manually (W/S keys). Guidance provides recommendations.</p>
            <button id="start-manual-btn" class="menu-start-btn">START MANUAL CONTROL</button>
        </div>
        
        <div class="menu-section">
            <h3>Guided Launch</h3>
            <p class="menu-description">Set target altitude and let the guidance system handle the launch.</p>
            <div class="menu-input-group">
                <label for="target-altitude-input">Target Altitude (km):</label>
                <input type="number" id="target-altitude-input" value="500" min="150" max="2000" step="50">
            </div>
            <button id="start-guided-btn" class="menu-start-btn">START GUIDED LAUNCH</button>
        </div>
        
        <div class="menu-section">
            <h3>Orbital Mode</h3>
            <p class="menu-description">Spawn in orbit and practice orbital mechanics.</p>
            <div class="menu-preset-buttons">
                <button class="preset-btn" data-altitude="200">200 km</button>
                <button class="preset-btn" data-altitude="400">400 km</button>
                <button class="preset-btn active" data-altitude="500">500 km</button>
                <button class="preset-btn" data-altitude="600">600 km</button>
                <button class="preset-btn" data-altitude="800">800 km</button>
            </div>
            <button id="start-orbital-btn" class="menu-start-btn">SPAWN IN ORBIT</button>
        </div>
    </div>
    
    <div id="menu-overlay" style="display: none;"></div>
    
    <div id="manual-pitch-controls" style="display: none;">
        <h3>MANUAL PITCH CONTROL</h3>
        <div class="pitch-display">
            <div id="manual-pitch-display">90°</div>
            <div id="guidance-recommendation" class="guidance-recommendation" style="display: none;">
                Guidance: <span id="guidance-rec-value">90°</span>
            </div>
        </div>
        <div class="pitch-buttons">
            <button id="pitch-up-btn">↑ PITCH UP<br>(W Key)</button>
            <button id="pitch-down-btn">↓ PITCH DOWN<br>(S Key)</button>
        </div>
    </div>
    
    <div id="burn-controls" style="display: none;">
        <h3 style="color: #0ff; margin-bottom: 10px;">ORBITAL BURNS</h3>
        <div id="burn-status" style="color: #0f0; font-size: 11px; margin-bottom: 10px; min-height: 30px;">
            <div>Hold button to burn</div>
        </div>
        <div style="display: flex; flex-direction: column; gap: 5px;">
            <button id="refuel-btn" style="background: #2a2; border-color: #2a2; margin-bottom: 5px;">REFUEL (5000 kg)</button>
            <button id="burn-prograde-btn">PROGRADE</button>
            <button id="burn-retrograde-btn">RETROGRADE</button>
            <button id="burn-normal-btn">NORMAL</button>
            <button id="burn-anti-normal-btn">ANTI-NORMAL</button>
            <button id="burn-radial-btn">RADIAL</button>
            <button id="burn-anti-radial-btn">ANTI-RADIAL</button>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>

